<html>
<head>
  <title>実習課題9_7b</title>
  <meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
</head>

<body bgcolor="#000000" text="#FFFFFF" vlink="#00FF00" link="#99FFCC">


<h2>実習課題9_7b</h2>
<hr>

<p>
<b>【構造体配列を利用するデータ入力関数の作成（整数値・実数値のチェック付き）】</b><br /><br />
実習課題7_3 で作成した ex7_3.c のデータ値の入力のうち，年齢，学年，GPAに関して，<br>
実習課題9_2 および 9_6 で作成した関数 isInt()，isReal() を用いて入力が正しいかどうかチェックし，<br>
不適切な場合は適切な値が入力されるまで入力を求めるように変更したプログラム ex9_7.c を作成せよ．<br>
年齢は18以上の整数値，学年は1以上8以下の整数値，GPAは0.0以上4.0以下の実数値とする．<br>
なお，ex9_7.c は以下の部分に各関数の定義を加えるのみとし，以下に示している部分に<br>
関しては，一切の変更・追記は認めない．<br>
<font color="#FF0000">以下の部分が変更・追記されたプログラムは正しく動作しても 0 点とする．</font><br>


<pre>
#include&lt;stdio.h&gt;
#include&lt;ctype.h&gt;
#include&lt;string.h&gt;
#include&lt;stdlib.h&gt;

#define MAXNUM 10
#define BUFSIZE 256

typedef struct {
    char name[30];
    int age;
    int grade;
    double gpa;
} personal_data;

void print_data(personal_data d[]);
void get_data(personal_data d[]);
void getInput(char msg[], char n[]);
int isInt(char n[]);
int isReal(char n[]);
int getAge(void);
int getGrade(void);
double getGPA(void);

int main() {
    int i;
    personal_data data[MAXNUM];
	
    get_data(data);
    print_data(data);
	
    return 0;
}

</pre>
<br>


<br /><div class="result">
実行結果例（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex9_7.exe</font>
名前を入力してください（最大29文字, "end"で入力終了）：<font color="#FF0000">Aoyama Taro</font>
年齢を入力してください：<font color="#FF0000">10</font>
18以上の整数値で入力してください：<font color="#FF0000">-20</font>
18以上の整数値で入力してください：<font color="#FF0000">20.0</font>
学年を入力してください：<font color="#FF0000">10</font>
1以上，8以下の整数値で入力してください：<font color="#FF0000">0</font>
1以上，8以下の整数値で入力してください：<font color="#FF0000">-2</font>
1以上，8以下の整数値で入力してください：<font color="#FF0000">2</font>
GPAを入力してください：<font color="#FF0000">-1.0</font>
0.0以上，4.0以下の実数値で入力してください：<font color="#FF0000">5.0</font>
0.0以上，4.0以下の実数値で入力してください：<font color="#FF0000">a</font>
a は実数値ではありません
0.0以上，4.0以下の実数値で入力してください：<font color="#FF0000">3.0</font>
名前を入力してください（最大29文字, "end"で入力終了）：<font color="#FF0000">end</font>
1人目
氏名：Aoyama Taro
年齢：20
学年：2
GPA：3.00

</pre>
<br />

</p>

<p>　</p>
<p>　</p>
<p>　</p>

</body>
</html>
