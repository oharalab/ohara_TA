<html>
<head>
  <title>実習課題14_1</title>
  <meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
</head>

<body bgcolor="#000000" text="#FFFFFF" vlink="#00FF00" link="#99FFCC">


<h2>実習課題14_1</h2>
<hr>

<p>
<b>【対称行列の読み込み（コマンドライン引数の利用）】</b><br /><br />
実習課題12_1で作成した exp12_1.c を以下の要件を満たすように書き替えたプログラム<br>
ex14_1.c を作成せよ．
</p>
<ul>
<li>入力ファイル名をコマンドライン引数で指定
</li>
<li>プログラム自体を除くコマンドライン引数の数が1以外とのきは適切なメッセジを表示して終了
</li>
<li>関数read_matrix() 内では fgets() と sscanf() の組み合わせでデータを読み込む
</li>
</ul>
<p>
なお，ex14_1.c の以下の変更は認めない．<br>
また，動作確認には CoursePower 上の data_ex14_1.txt を用いよ．
</p>
<br>

<pre>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define BUFSIZE 512

int **read_matrix(char *fname, int *s);
void check_argnum(int min, int max, int arg_num, char *cmd);
void print_usage(char *cmd);

int main(int argc, char* argv[]){
	int **m, size, i, j;

	check_argnum(2, 2, argc, argv[0]);
	m = read_matrix(argv[1], &size);
	printf("  ");
	for(i = 0; i &lt; size; i++)
		printf(" %2d", i + 1);
	printf("\n");
	for(i = 0; i &lt; size; i++){
		printf("%2d", i+1);
		for(j = 0; j &lt; size; j++)
			printf(" %2d", m[i][j]);
		printf("\n");
	}

	return 0;
}
</pre>

<br /><div class="result">
実行結果例1（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex14_1.exe data_ex14_1.txt</font>
    1  2  3  4  5  6  7  8  9
 1  0  1  4  2  0  0  0  0  0
 2  1  0  2  0  7  0  0  0  0
 3  4  2  0  3  1  5  0  0  0
 4  2  0  3  0  0  0  3  0  0
 5  0  7  1  0  0  3  0  5  0
 6  0  0  5  0  3  0  4  3  0
 7  0  0  0  3  0  4  0  0  6
 8  0  0  0  0  5  3  0  0  2
 9  0  0  0  0  0  0  6  2  0
</pre>
<br />

実行結果例2（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex14_1.exe</font>
Too few arguments!
Usage
./ex14_1 'input_file'

</pre>
<br />

<p>　</p>
<p>　</p>
<p>　</p>

</body>
</html>
