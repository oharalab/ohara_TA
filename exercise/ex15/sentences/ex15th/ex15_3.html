<html>
<head>
  <title>実習課題15_3</title>
  <meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
</head>

<body bgcolor="#000000" text="#FFFFFF" vlink="#00FF00" link="#99FFCC">


<h2>実習課題15_3</h2>
<hr>

<p>
<b>【0以上4以下の実数乱数の生成】</b><br /><br />
コマンドライン引数で指定した数だけ，0以上4以下の実数乱数を生成し，それを同様にコマンドライン<br>
引数で指定したファイルに書き込むプログラム ex15_3.c を作成せよ．<br>
ファイルへの書き込み時には，1行につき1つの実数乱数を書き込むものとする．また，データの ID として，<br>
その実数乱数の順序（最初のデータは 1 ）を先に記述し，カンマで区切って生成した実数乱数（小数点以下は3桁）を書き込む<br>
ものとする．<br>
なお，ex15_3.c は以下の部分に各関数の定義を加えるのみとし，以下に示している部分に<br>
関しては，一切の変更・追記は認めない（コメントは除く）．<br>
<font color="#FF0000">以下の部分が変更・追記（コメントは除く）されたプログラムは正しく動作しても 0 点とする．</font><br>
</p>

<pre>
#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;time.h&gt;

double getDouble(void);   // 関数 makeData() 内で利用する 0 以上 4 以下の実数乱数を返す関数
double *makeData(int n);
void writeData(char *fname, double *data, int n);
void check_argnum(int min, int max, int arg_num, char *cmd);
void print_usage(char *cmd);

int main(int argc, char **argv) {
    double *data;
    int num;

    check_argnum(3, 3, argc, argv[0]);
    srand((unsigned)time(NULL));
    num = atoi(argv[1]);
    data = makeData(num);
    writeData(argv[2], data, num);
	
    return 0;
}
</pre>

<br /><div class="result">
実行例1（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex15_3.exe 10 data.txt</font>

$ <font color="#FF0000">cat data.txt</font>
1,3.778
2,3.653
3,1.173
4,0.357
5,2.972
6,3.059
7,3.526
8,2.054
9,0.501
10,2.106
</pre>
<br />

</p>

実行例2（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex15_3.exe</font>
Too few arguments!
Usage
./ex15_3 '# of data' 'output_file'
</pre>
<br />

</p>

実行例3（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex15_3.exe 10</font>
Too few arguments!
Usage
./ex15_3 '# of data' 'output_file'

</pre>
<br />

</p>

<p>　</p>
<p>　</p>
<p>　</p>

</body>
</html>
