<html>
<head>
  <title>実習課題13_2</title>
  <meta http-equiv="Content-Type" content="text/html; charset=shift_jis">
</head>

<body bgcolor="#000000" text="#FFFFFF" vlink="#00FF00" link="#99FFCC">


<h2>実習課題13_2</h2>
<hr>

<p>
<b>【コマンドライン引数の利用】</b><br /><br />
演習13-1で実装したプログラム p13_1.c では2次元配列の大きさをプログラム内で決めていた．<br>
これを，コマンドライン引数で行数と列数を個別に指定できるように変更したプログラム ex13_2.c を作成せよ．<br>
ただし，指定できる行数，列数はともに1以上，20以下とし，列数は省略可能とする．列数を省略した場合は，<br>
行数と列数は同じ値を利用するものとする．<br>
具体的には，以下のように定義される4つの関数を追加で実装せよ．
</p>

<pre>
void check_argnum(int min, int max, int arg_num, char *cmd);
void print_usage(char *cmd);
int getNonNegative(char n[]);
int inRange(int min, int max, int val);
</pre>

<p>
上記のうち，関数 check_argnum() は p13_4.c と同じものとし，関数 print_usage() は<br>
p13_4.c のものを参考に，以下の動作例と同様の表示メッセージを実装すること．<br>
関数 getNonNegative() は引数で与えれた文字列が非負整数の場合に数値に変換した値を返し，<br>
それ以外の場合は動作例にあるようなメッセージを表示してプログラムを終了する関数である．<br>
関数 inRange()は，引数 val が min 以上，max 以下の範囲であれば 1 を返し，それ以外の
場合は 0 を返す関数である．<br>
ここでは，main()関数内で関数 check_argnum()，getNonNegative()，inRange()を用いることを想定している．<br>
</p>




<br /><div class="result">
<p>
実行例1（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex13_2.exe</font>
Too few arguments!
Usage
./ex13_2 'n_row' ['n_col']
  n_row: number of rows (1 - 20)
  n_col: number of columns (1 - 20) (optional)
    If the parameter n_col is omitted, the value of n_row is used instead.
</pre>
<br>
</p>

<p>
実行例2（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex13_2.exe 1a</font>
The argument should be a non-negative integer.
</pre>
<br>
</p>

<p>
実行例3（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex13_2.exe 2.3 4</font>
The argument should be a non-negative integer.
</pre>
<br>
</p>

<p>
実行例4（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex13_2.exe 3 4</font>
( 0,  0) =  0
( 0,  1) =  1
( 0,  2) =  2
( 0,  3) =  3
( 1,  0) =  4
( 1,  1) =  5
( 1,  2) =  6
( 1,  3) =  7
( 2,  0) =  8
( 2,  1) =  9
( 2,  2) = 10
( 2,  3) = 11
</pre>
<br>
</p>

<p>
実行例5（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex13_2.exe 2.0 3.0</font>
( 0,  0) =  0
( 0,  1) =  1
( 0,  2) =  2
( 1,  0) =  3
( 1,  1) =  4
( 1,  2) =  5
</pre>
<br>
</p>

<p>
実行例6（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex13_2.exe 2 25</font>
The arguments should be in the range [1, 20]
</pre>
<br>
</p>

<p>
実行例7（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex13_2.exe 0.0 10</font>
The arguments should be in the range [1, 20]
</pre>
<br>
</p>

<p>
実行例8（赤文字がキーボードからの入力）：<br /><hr style="height:1px"/>
<pre>
$ <font color="#FF0000">./ex13_2.exe 3</font>
( 0,  0) =  0
( 0,  1) =  1
( 0,  2) =  2
( 1,  0) =  3
( 1,  1) =  4
( 1,  2) =  5
( 2,  0) =  6
( 2,  1) =  7
( 2,  2) =  8
</pre>
<br>
</p>

<br />
</div>

<p>　</p>
<p>　</p>
<p>　</p>

</body>
</html>
